{"ast":null,"code":"var _jsxFileName = \"/Users/pavani/Documents/calcwithsocketio/src/calculator/calculator.js\";\nimport React, { useState, useEffect } from \"react\";\nimport io from \"socket.io-client\";\nimport \"./calculator.css\"; //const socket = io(\"http://localhost:8000\");\n//var socket = io.connect('http://127.0.0.1:8000', {reconnect: true});\n\nvar socket = io.connect('http://52.26.53.145:8000', {\n  reconnect: true\n});\nexport function Calculator() {\n  const [calcLog, setCalcLog] = useState([]);\n  const [expression, setExpression] = useState(\"\");\n  useEffect(() => {\n    socket.on(\"calculation\", data => {\n      if (calcLog.length === 10) calcLog.shift();\n      setCalcLog([...calcLog, data.calculation]);\n      console.log(calcLog);\n    });\n  }, [calcLog]);\n\n  const emitfunc = exp => {\n    socket.emit(\"subscribeToLogs\", {\n      calculation: exp\n    });\n    console.log(typeof calcLog[0]);\n    console.log(calcLog);\n    if (calcLog.length === 10) calcLog.shift();\n    setCalcLog([...calcLog, exp]);\n  };\n\n  const calculate = () => {\n    try {\n      console.log(expression);\n      const result = eval(expression) | \"\";\n      setExpression(result.toString());\n      emitfunc(expression + \" = \" + result);\n    } catch (e) {\n      setExpression(\"\");\n      emitfunc(expression + \"-> Invalid Input\");\n    }\n  };\n\n  const CalcEventClick = event => {\n    switch (event) {\n      case \"c\":\n        setExpression(expression.slice(0, -1));\n        break;\n\n      case \"d\":\n        setExpression(\"\");\n        break;\n\n      case \"=\":\n        calculate();\n        break;\n\n      default:\n        setExpression(expression.replace(/^(0+)/g, '') + \"\" + event);\n        break;\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table-style\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    colSpan: 4,\n    className: \"calc-header\",\n    id: \"calc-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, expression)), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    className: \"button\",\n    onClick: () => CalcEventClick(7),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, \"7\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"button\",\n    onClick: () => CalcEventClick(8),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, \"8\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"button\",\n    onClick: () => CalcEventClick(9),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, \"9\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"button button-operator\",\n    onClick: () => CalcEventClick(\"/\"),\n    id: \"buttonDivide\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, \"/\")), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    className: \"button\",\n    onClick: () => CalcEventClick(4),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, \"4\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"button\",\n    onClick: () => CalcEventClick(5),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, \"5\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"button\",\n    onClick: () => CalcEventClick(6),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, \"6\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"button button-operator\",\n    onClick: () => CalcEventClick(\"*\"),\n    id: \"buttonMul\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, \"*\")), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    className: \"button\",\n    onClick: () => CalcEventClick(1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }, \"1\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"button\",\n    onClick: () => CalcEventClick(2),\n    id: \"button2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }\n  }, \"2\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"button\",\n    onClick: () => CalcEventClick(3),\n    id: \"button3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }, \"3\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"button button-operator\",\n    onClick: () => CalcEventClick(\"+\"),\n    id: \"buttonPlus\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  }, \"+\")), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    className: \"button button-cancel\",\n    onClick: () => CalcEventClick(\"c\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }\n  }, \"C\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"button\",\n    onClick: () => CalcEventClick(0),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 17\n    }\n  }, \"0\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"button\",\n    onClick: () => CalcEventClick(\".\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 17\n    }\n  }, \".\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"button button-operator\",\n    onClick: () => CalcEventClick(\"-\"),\n    id: \"buttonMinus\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 17\n    }\n  }, \"-\")), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    className: \"button button-cancel\",\n    onClick: () => CalcEventClick(\"d\"),\n    id: \"buttonDel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 17\n    }\n  }, \"Del\"), /*#__PURE__*/React.createElement(\"td\", {\n    colSpan: 3,\n    style: {\n      width: \"190px\"\n    },\n    className: \"button button-operator\",\n    onClick: () => CalcEventClick(\"=\"),\n    id: \"buttonEqual\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 17\n    }\n  }, \"Cal\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 11\n    }\n  }, \"Logs\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"calc-log\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }\n  }, calcLog.reverse().map((calc, index) => /*#__PURE__*/React.createElement(\"li\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 17\n    }\n  }, calc)))))));\n}","map":{"version":3,"sources":["/Users/pavani/Documents/calcwithsocketio/src/calculator/calculator.js"],"names":["React","useState","useEffect","io","socket","connect","reconnect","Calculator","calcLog","setCalcLog","expression","setExpression","on","data","length","shift","calculation","console","log","emitfunc","exp","emit","calculate","result","eval","toString","e","CalcEventClick","event","slice","replace","width","reverse","map","calc","index"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport io from \"socket.io-client\";\nimport \"./calculator.css\";\n\n\n//const socket = io(\"http://localhost:8000\");\n//var socket = io.connect('http://127.0.0.1:8000', {reconnect: true});\nvar socket = io.connect('http://52.26.53.145:8000', {reconnect: true});\nexport function Calculator() {  \n  const [calcLog, setCalcLog] = useState([]);\n  const [expression, setExpression] = useState(\"\");\n\n  useEffect(() => {   \n    socket.on(\"calculation\", data => {\n      if (calcLog.length === 10) calcLog.shift();\n      setCalcLog([...calcLog, data.calculation]);\n      console.log(calcLog);\n    });\n   \n  }, [calcLog]);\n\n  const emitfunc = exp => {    \n    socket.emit(\"subscribeToLogs\", {\n      calculation: exp\n    });\n    console.log(typeof calcLog[0]);\n    console.log(calcLog);\n    if (calcLog.length === 10) calcLog.shift();\n    setCalcLog([...calcLog, exp]);\n  };\n\n  const calculate = () => {\n    try {\n     console.log(expression);\n      const result = eval(expression) | \"\";\n      setExpression(result.toString());\n      emitfunc(expression + \" = \" + result);\n    } catch (e) {\n      setExpression(\"\")\n      emitfunc(expression + \"-> Invalid Input\");\n    }\n  };\n\n  const CalcEventClick = event => {\n    switch (event) {\n      case \"c\":\n        setExpression(expression.slice(0, -1));\n        break;\n\n      case \"d\":\n        setExpression(\"\");\n        break;\n\n      case \"=\":\n        calculate();\n        break;\n\n      default:\n        setExpression(expression.replace(/^(0+)/g, '') + \"\" + event);\n        break;\n    }\n  };\n  \n  return (\n    <div>\n      <div className=\"flex-container\">\n        <div className=\"flex-item\">\n          <table className=\"table-style\">\n            <tbody>\n              <tr>\n                <td colSpan={4} className=\"calc-header\" id=\"calc-header\">\n                  {expression}\n                </td>\n              </tr>\n              <tr>\n                <td className=\"button\" onClick={() => CalcEventClick(7)}>\n                  7\n                </td>\n                <td className=\"button\" onClick={() => CalcEventClick(8)}>\n                  8\n                </td>\n                <td className=\"button\" onClick={() => CalcEventClick(9)}>\n                  9\n                </td>\n                <td\n                  className=\"button button-operator\"\n                  onClick={() => CalcEventClick(\"/\")}\n                  id=\"buttonDivide\"\n                >\n                  /\n                </td>\n              </tr>\n              <tr>\n                <td className=\"button\" onClick={() => CalcEventClick(4)}>\n                  4\n                </td>\n                <td className=\"button\" onClick={() => CalcEventClick(5)}>\n                  5\n                </td>\n                <td className=\"button\" onClick={() => CalcEventClick(6)}>\n                  6\n                </td>\n                <td\n                  className=\"button button-operator\"\n                  onClick={() => CalcEventClick(\"*\")}\n                  id=\"buttonMul\"\n                >\n                  *\n                </td>\n              </tr>\n              <tr>\n                <td className=\"button\" onClick={() => CalcEventClick(1)}>\n                  1\n                </td>\n                <td\n                  className=\"button\"\n                  onClick={() => CalcEventClick(2)}\n                  id=\"button2\"\n                >\n                  2\n                </td>\n                <td\n                  className=\"button\"\n                  onClick={() => CalcEventClick(3)}\n                  id=\"button3\"\n                >\n                  3\n                </td>\n                <td\n                  className=\"button button-operator\"\n                  onClick={() => CalcEventClick(\"+\")}\n                  id=\"buttonPlus\"\n                >\n                  +\n                </td>\n              </tr>\n              <tr>\n                <td\n                  className=\"button button-cancel\"\n                  onClick={() => CalcEventClick(\"c\")}\n                >\n                  C\n                </td>\n                <td className=\"button\" onClick={() => CalcEventClick(0)}>\n                  0\n                </td>\n                <td className=\"button\" onClick={() => CalcEventClick(\".\")}>\n                  .\n                </td>\n                <td\n                  className=\"button button-operator\"\n                  onClick={() => CalcEventClick(\"-\")}\n                  id=\"buttonMinus\"\n                >\n                  -\n                </td>\n              </tr>\n              <tr>\n                <td\n                  className=\"button button-cancel\"\n                  onClick={() => CalcEventClick(\"d\")}\n                  id=\"buttonDel\"\n                >\n                  Del\n                </td>\n                <td\n                  colSpan={3}\n                  style={{ width: \"190px\" }}\n                  className=\"button button-operator\"\n                  onClick={() => CalcEventClick(\"=\")}\n                  id=\"buttonEqual\"\n                >\n                  Cal\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        <div className=\"flex-item\">\n          <strong>Logs</strong>\n          <div className=\"calc-log\">\n            <ul>\n              {calcLog.reverse().map((calc, index) => (\n                <li key={index}>{calc}</li>\n              ))}\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}